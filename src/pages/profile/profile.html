<!--
  Generated template for the ProfilePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-buttons left>
      <button ion-button icon-only menuToggle>
        <ion-icon name="menu"></ion-icon>
      </button>
    </ion-buttons>
    <ion-title>Perfil</ion-title>
	  <ion-buttons end *ngIf="profile && database.currentUser && profile._id == database.currentUser._id">
	    <button ion-button icon-only *ngIf="profile.email != 'convidado@redeagroflorestal.com.br'" (click)="edit(profile._id)">
	      <ion-icon name="create"></ion-icon>
	    </button>
	    <button ion-button icon-only (click)="logout()">
	      <ion-icon name="ios-log-out-outline"></ion-icon>
	    </button>
	  </ion-buttons>
    <ion-buttons end *ngIf="!profile">
	    <button ion-button icon-only (click)="logout()">
	      <ion-icon name="ios-log-out-outline"></ion-icon>
	    </button>
	  </ion-buttons>
  </ion-navbar>

</ion-header>

<ion-content padding>
	<div *ngIf="profile">
	  <ion-item class="profile_user">
	    <ion-avatar item-start>
	      <img img-cache [source]="this.api.imageUrl(profile.picture, 'medium')"  noitem="assets/img/no-user.png">
	    </ion-avatar>
	    <h2>{{profile.name}}</h2>
      <p *ngIf="profile.bio">{{profile.bio}}</p>
	  </ion-item>
	</div>
  <div *ngIf="posts">
    <br>
    <h6 class="text-center">Ãšltimas postagens de {{profile.name}}</h6>
    <br>
    <posts [posts]="posts"></posts>
  </div>
</ion-content>
